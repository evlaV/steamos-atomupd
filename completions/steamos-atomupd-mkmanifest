# -*- mode: sh; indent-tabs-mode: nil; sh-basic-offset: 4; -*-
# vim: et sts=4 sw=4

#  SPDX-License-Identifier: LGPL-2.1+
#
#  Copyright Â© 2020 Collabora Ltd.
#
#  This file is part of steamos-atomupd.
#
#  steamos-atomupd is free software; you can redistribute it and/or modify it
#  under the terms of the GNU Lesser General Public License as published by the
#  Free Software Foundation; either version 2.1 of the License, or (at your
#  option) any later version.

_steamos-atomupd-mkmanifest()
{
    local cur prev words cword
    _init_completion || return

    case "$prev" in
        --product)
            COMPREPLY=($(compgen -W "steamos" -- "$cur"))
            return
            ;;
        --release)
            COMPREPLY=($(compgen -W "holo" -- "$cur"))
            return
            ;;
        --variant)
            COMPREPLY=($(compgen -W "atomic devel" -- "$cur"))
            return
            ;;
        --arch)
            COMPREPLY=($(compgen -W "amd64" -- "$cur"))
            return
            ;;
        --version)
            COMPREPLY=($(compgen -W "snapshot" -- "$cur"))
            return
            ;;
        --buildid)
            COMPREPLY=($(compgen -W "$(date "+%Y%m%d").0" -- "$cur"))
            return
            ;;
    esac

    COMPREPLY=($(compgen -W "-h --help --product --release --variant --arch --version --buildid --checkpoint" -- "$cur"))
} &&
complete -F _steamos-atomupd-mkmanifest steamos-atomupd-mkmanifest
